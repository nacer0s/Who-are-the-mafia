{% extends "base.html" %}

{% block title %}ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø§ÙÙŠØ§{% endblock %}

{% block body_class %}auth-page{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-5 col-md-7">
            <div class="card mt-5">
                <div class="card-header text-center">
                    <h4>
                        <i class="fas fa-sign-in-alt"></i>
                        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    </h4>
                    <p class="text-muted mb-0">Ø§Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨</p>
                </div>
                <div class="card-body p-4">
                    <form id="loginForm">
                        <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                        <div class="mb-3">
                            <label for="username" class="form-label">
                                <i class="fas fa-user"></i>
                                Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                            </label>
                            <input type="text" 
                                   class="form-control" 
                                   id="username" 
                                   name="username" 
                                   required
                                   placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
                                   autocomplete="username">
                        </div>

                        <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                        <div class="mb-3">
                            <label for="password" class="form-label">
                                <i class="fas fa-lock"></i>
                                ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                            </label>
                            <div class="input-group">
                                <input type="password" 
                                       class="form-control" 
                                       id="password" 
                                       name="password" 
                                       required
                                       placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                                       autocomplete="current-password">
                                <button class="btn btn-outline-secondary" 
                                        type="button" 
                                        onclick="togglePassword('password')">
                                    <i class="fas fa-eye" id="password-toggle-icon"></i>
                                </button>
                            </div>
                        </div>

                        <!-- ØªØ°ÙƒØ±Ù†ÙŠ -->
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="remember">
                            <label class="form-check-label" for="remember">
                                ØªØ°ÙƒØ±Ù†ÙŠ
                            </label>
                        </div>

                        <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-sign-in-alt"></i>
                                ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                            </button>
                        </div>
                    </form>

                    <!-- ØªØ³Ø¬ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ø¨Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© -->
                    <hr class="my-4">
                    <div class="text-center">
                        <h6 class="text-muted">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø³Ø±ÙŠØ¹:</h6>
                        <div class="row g-2 mt-2">
                            <div class="col-6">
                                <button type="button" 
                                        class="btn btn-outline-success btn-sm w-100" 
                                        onclick="quickLogin('admin', 'admin123')">
                                    ğŸ‘‘ Ù…Ø¯ÙŠØ±
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" 
                                        class="btn btn-outline-info btn-sm w-100" 
                                        onclick="quickLogin('Ø§Ø­Ù…Ø¯', 'test123')">
                                    ğŸ‘¤ Ø£Ø­Ù…Ø¯
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" 
                                        class="btn btn-outline-info btn-sm w-100" 
                                        onclick="quickLogin('ÙØ§Ø·Ù…Ø©', 'test123')">
                                    ğŸ‘¤ ÙØ§Ø·Ù…Ø©
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" 
                                        class="btn btn-outline-info btn-sm w-100" 
                                        onclick="quickLogin('Ù…Ø­Ù…Ø¯', 'test123')">
                                    ğŸ‘¤ Ù…Ø­Ù…Ø¯
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <div class="text-muted">
                        Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ 
                        <a href="{{ url_for('register') }}" class="text-decoration-none">
                            <strong>Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹</strong>
                        </a>
                    </div>
                    <div class="mt-2">
                        <a href="{{ url_for('forgot_password') }}" class="text-muted small text-decoration-none">
                            Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
    <div class="row justify-content-center mt-4">
        <div class="col-lg-8">
            <div class="card bg-light">
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <i class="fas fa-users text-primary" style="font-size: 2rem;"></i>
                            </div>
                            <h6>Ù„Ø¹Ø¨ Ø¬Ù…Ø§Ø¹ÙŠ</h6>
                            <p class="text-muted small">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ Ø£Ùˆ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¢Ø®Ø±ÙŠÙ†</p>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <i class="fas fa-brain text-success" style="font-size: 2rem;"></i>
                            </div>
                            <h6>Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h6>
                            <p class="text-muted small">ÙƒØ´Ù Ø§Ù„ØºØ´ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <i class="fas fa-chart-line text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h6>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø©</h6>
                            <p class="text-muted small">ØªØªØ¨Ø¹ ØªÙ‚Ø¯Ù…Ùƒ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙ‚Ø§Ø±ÙŠØ±</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// ØªØ¨Ø¯ÙŠÙ„ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
function togglePassword(inputId) {
    const passwordInput = document.getElementById(inputId);
    const toggleIcon = document.getElementById(`${inputId}-toggle-icon`);
    
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleIcon.classList.remove('fa-eye');
        toggleIcon.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = 'password';
        toggleIcon.classList.remove('fa-eye-slash');
        toggleIcon.classList.add('fa-eye');
    }
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø³Ø±ÙŠØ¹
function quickLogin(username, password) {
    document.getElementById('username').value = username;
    document.getElementById('password').value = password;
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    document.getElementById('loginForm').dispatchEvent(new Event('submit'));
}

// Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('username').focus();
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Enter ÙÙŠ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    document.getElementById('password').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            document.getElementById('loginForm').dispatchEvent(new Event('submit'));
        }
    });
});

// ØªØ­Ø³ÙŠÙ† UX - Ø¥Ø¸Ù‡Ø§Ø± ØªÙ„Ù…ÙŠØ­Ø§Øª
const usernameInput = document.getElementById('username');
const passwordInput = document.getElementById('password');

usernameInput.addEventListener('focus', function() {
    if (!this.value && document.querySelectorAll('.demo-hint').length === 0) {
        const hint = document.createElement('small');
        hint.className = 'text-muted demo-hint';
        hint.innerHTML = 'ğŸ’¡ Ø¬Ø±Ø¨: admin Ø£Ùˆ Ø§Ø­Ù…Ø¯ Ø£Ùˆ ÙØ§Ø·Ù…Ø© Ø£Ùˆ Ù…Ø­Ù…Ø¯';
        this.parentNode.appendChild(hint);
    }
});

passwordInput.addEventListener('focus', function() {
    if (!this.value && document.querySelectorAll('.password-hint').length === 0) {
        const hint = document.createElement('small');
        hint.className = 'text-muted password-hint';
        hint.innerHTML = 'ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©: admin123 Ø£Ùˆ test123';
        this.parentNode.appendChild(hint);
    }
});
</script>
{% endblock %}